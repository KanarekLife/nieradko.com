---
title: "Build Docker images quicker with BuildKit"
created: "2024-11-15"
cover: "./cover.png"
---

The reason for writing this blog post was, as it usually is, a very simple and uncomplicated requirement which spiralled into a full day of reading [Docker and Desktop for Desktop documentation](https://docs.docker.com/), 2 coffees and a lot of learning :laughing:.

## The premise

As you may recall from [the previous blog post](/articles/welcome-to-my-new-blog/), this blog is currently hosted on [Cloudflare Pages](https://pages.cloudflare.com/). It's a great service for your hosting needs as it includes: automatic deployments (with build steps) straight from your GitHub / GitLab repository, possiblity of adding [Serverless Functions](https://developers.cloudflare.com/pages/functions/), [Redirects](https://developers.cloudflare.com/pages/configuration/redirects/), [DDoS protection](https://www.cloudflare.com/ddos/) and [generous free tier](https://developers.cloudflare.com/pages/platform/limits/). Moreover as the current user of Cloudflare (I use them as my Domain and DNS hosting), all of this is sugarcoated with nice UX/UI and deep integration of services (f.i. connecting my personal domain to Cloudflare Pages was just one mouse click :sunglasses:).

However, despite how great their free service is, I would like to practice my DevOps skills and as such the end goal was always to host this website on my personal kubernetes cluster. For that, it is obvious that having a well-written and small Docker image would always be a huge benefit and a time-saver. Since most of the time, when I write Dockerfiles for various services, I don't have time to waste I decided to research the topic a bit deeper than usual in hope that maybe there are some solutions to the usual problems I encountered. And well, the documentation did not disappoint!

## Past problems

When it comes to building Docker images, there always were a few issues that I had but since everything worked _well enough_ there was no incentive to dig deeper and look if this challenges had some kind of solutions available:
- **Caching**: For as long as I remember I had issues with layers caching. Docker is quite a well-written software so, for as long as I remember, it tries to cache everything it can. The devil, however, lies in the details. Since most of my Dockerfiles had quite a simple structure, following the most basic tutorials, they looked like this:

```Dockerfile
```